<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>上传图片img-a</title>
	<link rel="stylesheet" href="../css/style.css">
	<script type="text/javascript">
	    (function (doc, win) {
	      	var docEl = doc.documentElement,
	        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
	        recalc = function () {
	          var clientWidth = docEl.clientWidth;
	          if (!clientWidth) return;
	          docEl.style.fontSize = 40 * (clientWidth / 750) + 'px';
	        };

	      	if (!doc.addEventListener) return;
	      	win.addEventListener(resizeEvt, recalc, false);
	      	doc.addEventListener('DOMContentLoaded', recalc, false);
	    })(document, window);
	</script>
</head>
<body>
	<div class="bg">
		<a href="">
			<img src="../images/active/act-beg-hea-logo.png" alt="logo" class="active-logo">
		</a>
		<div class="active-rank">
			<ul class="tab">
				<li class="on">
					<a href="">
						<img class="on" src="../images/active/gift-rank-on.png" alt="标题">
						<img class="default" src="../images/active/gift-rank-default.png" alt="标题">
					</a>
				</li>
				<li>
					<a href="">
						<img class="on" src="../images/active/gift-rank2-on.png" alt="标题">
						<img class="default" src="../images/active/gift-rank2-default.png" alt="标题">
					</a>
				</li>
				<li>
					<a href="">
						<img class="on" src="../images/active/gift-rank3-on.png" alt="标题">
						<img class="default" src="../images/active/gift-rank3-default.png" alt="标题">
					</a>
				</li>
				<li>
					<a href="">
						<img class="on" src="../images/active/gift-rank4-on.png" alt="标题">
						<img class="default" src="../images/active/gift-rank4-default.png" alt="标题">
					</a>
				</li>
			</ul>
		</div>
		<div class="gift-rank" id="rank">
			<div class="gift-rank-wapper">
				<div class="gift-rank-over"  id="content">
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>

					<div class="gift-rank-h">
						<p>
							第一周中奖名单
						</p>
					</div>
					<ul class="gift-rank-list">
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
						<li>
							<span class="l">中奖用户名</span><span class="r">中奖用户名</span>
						</li>
					</ul>
				</div>
			</div>
			<div id="scrollbar">
				<div class="bar-swiper" id="bar-go"><img src="../images/active/bar-swiper.png" alt="bar"></div>
			</div>
		</div>
		<p class="gift-height">&nbsp;</p>
	</div>
</body>
<script type="text/javascript">
window.onload=function(){
	var gundongX = 0;
	var gundongY = 0;
	var moveEle =document.getElementById('content');
	var rank =document.getElementById('rank');
	var barGo =document.getElementById('bar-go');
	var stx = sty = etx = ety = curX = curY = 0;
	var maxHeight = moveEle.offsetHeight-rank.offsetHeight;
	var barNumber = 0;

	moveEle.addEventListener("touchstart", function(event) { //touchstart
	    gundongX = 0;
	    gundongY = 0;

	    event.preventDefault();
	    // 元素当前位置
	    etx = parseInt(getT3d(moveEle, "x"));
	    ety = parseInt(getT3d(moveEle, "y"));

	    // 手指位置
	    stx = event.touches[0].pageX;
	    sty = event.touches[0].pageY;
	}, false);

	moveEle.addEventListener("touchmove", function(event) {
	    // 防止拖动页面
	    event.preventDefault();

	    // 手指位置 减去 元素当前位置 就是 要移动的距离
	    gundongX = event.touches[0].pageX - stx;
	    gundongY = event.touches[0].pageY - sty;



	    // 目标位置 就是 要移动的距离 加上 元素当前位置
	    curX = gundongX + etx;
	    curY = gundongY + ety;
	    barNumber =( curY/-maxHeight)*0.93;

	    // 自由移动
	    // moveEle.style.webkitTransform = 'translate3d(' + (curX) + 'px, ' + (curY) + 'px,0px)';
	    // 只能移动Y轴方向
	    // 
	    if(curY >0){
	    	curY = 0;
	    }else if(curY <-maxHeight){
	    	curY =-maxHeight;
	    }
	    if(barNumber>0.93){
	    	barNumber=0.93;
	    }else if(barNumber<0){
	    	barNumber=0;
	    }
	    moveEle.style.webkitTransform = 'translate3d(' + 0 + ', ' + (curY) + 'px,0)';
	    barGo.style.top = barNumber*100+'%';


	}, false);
	moveEle.addEventListener("touchend", function(event) { //touchend
	    etx = curX;
	    ety = curY;
	}, false);

	function getT3d(elem, ename) {
	    var str1 = elem.style.webkitTransform;
	    if (str1 == "") return "0";
	    str1 = str1.replace("translate3d(", "");
	    str1 = str1.replace(")", "");
	    var carr = str1.split(",");

	    if (ename == "x") return carr[0];
	    else if (ename == "y") return carr[1];
	    else if (ename == "z") return carr[2];
	    else return "";
	}
}

</script>
</html>